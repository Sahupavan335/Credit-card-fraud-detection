{% extends "layout.html" %}
{% block content %}
<div class="card shadow p-5 mb-4">
    <h3><i class="bi bi-check-circle-fill text-success"></i> File Processed Successfully!</h3>
    <p class="text-muted">Preview of the predictions (first 100 rows):</p>
    <div class="table-responsive">{{ preview|safe }}</div>
</div>

<div class="card shadow p-5 mb-4">
    <h3><i class="bi bi-graph-up-arrow"></i> Fraud Detection Summary</h3>
    <div class="row text-center mt-3">
        <div class="col-md-6">
            <div class="alert alert-danger shadow-sm">
                <h4><i class="bi bi-exclamation-octagon"></i> {{ total_fraud }}</h4>
                <p>Fraudulent Transactions</p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="alert alert-success shadow-sm">
                <h4><i class="bi bi-shield-check"></i> {{ total_legit }}</h4>
                <p>Legitimate Transactions</p>
            </div>
        </div>
    </div>
</div>

<div class="d-flex gap-3">
    <a href="{{ url_for('download', filetype='csv') }}" class="btn btn-outline-primary btn-custom">
        <i class="bi bi-filetype-csv"></i> Download CSV File
    </a>
    <a href="{{ url_for('download', filetype='excel') }}" class="btn btn-outline-success btn-custom">
        <i class="bi bi-file-earmark-excel"></i> Download Excel File
    </a>
</div>
{% endblock %}

